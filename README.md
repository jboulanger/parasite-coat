# Parasite coat

Tools to analyze the fluorescence recovery of parasite coat protein from 3D timelapse microscopy image sequences. 

## Content
- Parasite_Coat_Recovery.ijm : an ImageJ macro segmenting the parasite and measuring the fluorescence recovery. It also includes the estimation of the model.
- Analyze Results.ipynb : a jupyter notebook for analyzing the output of the macro.
- data: folder with example data

## Requirements
The analysis of the data requires the installation of two components and should take less than 15min.

* For running the analysis macro please install:
    - Fiji (https://fiji.sc/) v1.54f
    - MorpholibJ (https://github.com/ijpb/MorphoLibJ) can be installed by activating the IJPB-plugins update site.
    - Download the [macro](https://raw.githubusercontent.com/jboulanger/parasite-coat/main/Parasite_Coat_Recovery.ijm) and open it in Fiji.
* Dependencies for running the notebook can be installed using for example on macOS, Linux, or Git Bash on Window:
```bash
# install micromamba
"${SHELL}" <(curl -L micro.mamba.pm/install.sh)
# reload the shell
${SHELL}
# create an environment
micromamba -qy create -f environment.yml
# activate the environment 
micromamba activate parasite-coat
# start the notebook
jupyter lab "Analyze Results.csv"
```

## Usage

1. Parasite need to be selected in the original image sequence, cropped and saved as individual TIFF files with pixel calibration and time interval present in the metadata (Image>Properties menu in ImageJ).
2. A list of the images is saved in a csv file with the following information:
    |Filename| Start time [min]| First frame|
    |--------|-----------------|------------|
    |   .tif | 30              |      10    |
3. Open the macro in Fiji and press run, select the csv file as input and press run. The macro generates a profile.csv file for each image,
 a summary.csv file for the dataset and a config.yml file.
4. Open the notebook and set the config file to the config.yml file generated by the macro.


## Demo
Sample images can be downloaded from the data folder along with the list of images as a csv file. 

1. Open and run the macro selecting the csv file as input and press run. 
2. The open the notebook and run all the cells.











